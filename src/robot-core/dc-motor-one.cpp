
/*******************************************************************************
*                               Standard Libraries
*******************************************************************************/

#include <Arduino.h>

/*******************************************************************************
*                               Header Files
*******************************************************************************/

#include "dc-motor-one.h"

/*******************************************************************************
*                               Static Functions
*******************************************************************************/

/*******************************************************************************
*                               Constants
*******************************************************************************/

/*******************************************************************************
*                               Structures
*******************************************************************************/

/*******************************************************************************
*                               Variables
*******************************************************************************/

struct dc_motor_one_t roller_motor = {.pin = PA7, .speed = STATIC_SPEED, .id = MOTOR_3};


/*******************************************************************************
*                               Functions
*******************************************************************************/

robot_status_t dcMotorOne_init(dc_motor_one_t* motor)
{
    pinMode(motor->pin, OUTPUT);
    motor->speed = STATIC_SPEED;
    analogWrite(motor->pin, motor->speed);
    return ROBOT_OK;
}

robot_status_t dcMotorOne_run(dc_motor_one_t* motor, uint8_t speed)
{
    motor->speed = speed;
    analogWrite(motor->pin, motor->speed);
    return ROBOT_OK;
}